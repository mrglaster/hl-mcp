# Как отловить событие победы контров, террористов и ничья(RoundDraw)
[Отлов событий](http://amxxmodx.ru/events/)
Так как Counter-Srtike игра где противостоят две команды, то исход может быть в разных трех случаях, а именно:  

    1. Победа Контр Террористов  

    2. Победа террористов  

    3. Ничья  

Разумеется есть простой и надежный способ отловить данные события.  
Для этого необходимо знать как пользоваться функцией [**register_event**](http://amxxmodx.ru/core/amxmodxinc/78-register_event-funkciya-registraciotlova-igrovyh-sobytiy.html), затем догадаться или подсмотреть, что необходимо отлавливать событие:  

SendAudio   
  
Plays the specified audio. An example of AudioCode could be "2%!MRAD_rounddraw".   
Name: SendAudio   
Structure: byte SenderID   
string AudioCode   
short Pitch
  
И найти необходимые для отлова звуки в соответствующей папке 
%/cstrike/sound/radio/
  
  
Теперь давайте попробуем соединить все это воедино:  
```
register_event("SendAudio", "t_win", "a", "2&%!MRAD_terwin")
```
  
Что же тут такого страшного понаписано, в обще это все есть в описании функции, но я все же поясню:  

    * **SendAudio** - Что отлавливаем ( событие проигрывания звука радио)  

    * **t_win** - Функция которая будет вызывать при данном событии  

    * **a** - Флаг А - говорит что событие глобальное  

    * **2 &%!MRAD_terwin** - Какой звук радио отлавливаем ( смотри синтаксис функции и описание события)  

  
  
Теперь как это выглядит все в месте для всех трех вариантов событий:  
```
/* Plugin generated by AMXX-Studio */  
  
#include <amxmodx>  
#include <amxmisc>  
  
#define PLUGIN "[register_event] SendAudio who win"  
#define VERSION "1.0"  
#define AUTHOR "Admin"  
  
public plugin_init() {  
    register_plugin(PLUGIN, VERSION, AUTHOR)  
      
    // Событие победы терроров  
    register_event("SendAudio", "t_win", "a", "2&%!MRAD_terwin")  
  
    //Событие победы контров      
    register_event("SendAudio", "ct_win", "a", "2&%!MRAD_ctwin")   
  
    //Событие - ничья       
    register_event("SendAudio", "draw", "a", "2&%!MRAD_rounddraw")   
}  
//Исполняемая функция при победе конров  
public ct_win(){  
    client_print(0,print_chat,"CT WIN")  
}  
//Исполняемая функция при победе Терроров  
public t_win(){  
    client_print(0,print_chat,"T WIN")  
}  
//Исполняемая функция при ничьей  
public draw(){  
    client_print(0,print_chat,"DRAW")  
}
```
  
  
Вот так просто отлавливаются данные события.  
Обратите внимание, что в функциях нет ни каких параметров, и если вы хотите произвести какие то действия над игроками, или вы должны знать заранее их индексы или использовать циклы.  
  
Написав так:  
```
public t_win(id){
```
  
У вас ни чего не выйдет.
