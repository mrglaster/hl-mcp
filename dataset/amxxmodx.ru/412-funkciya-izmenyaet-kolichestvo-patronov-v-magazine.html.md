# Функция изменяет количество патронов в магазине.
[Полезные функции Amx Mod X](http://amxxmodx.ru/poleznye_funkcii/)
Достаточно часто встречается вопрос "как выдать патроны", но особая сложность возникает при выдачи их в магазин(обойму), не говоря уже о том, что используют зачастую целый модуль ради одной функции. Лично я предпочитаю писать палгины на [**fakemeta**](http://amxxmodx.ru/fakemeta/) и [**hamsandwich**](http://amxxmodx.ru/hamsandwich/) так как они способны заменить сразу несколько других модулей.  
  
Что бы изменить патроны игроку, используются две функции:  

    * [**set_pdata_int**](http://amxxmodx.ru/fakemeta/fakemetainc/359-get_pdata_int-funkciya-ustanavlivaet-znacheniya-pvprivatedata-dannym-offsetam.html)   

    * **get_pdata_cbase** -Получает данные от блока памяти, в данном случае это Offset_active_item, активное оружие игрока.  

  
  
**Синтаксис:**  

set_pdata_int(get_pdata_cbase(id, 373), 51, AMMO)
  

    * **get_pdata_cbase(id, 373)** - id заменить на индекс игрока ( если он в вашей функции не id)  

    * **51** - не трогайте.(OFFSET_CLIPAMMO )  

    * **AMMO** - Сколько патронов выдать  

  
  
**Пример:**  
```
/* Plugin generated by AMXX-Studio */  
  
#include <amxmodx>  
#include <fakemeta>  
#include <hamsandwich>  
  
  
#define PLUGIN "[http://amxxmodx.ru] ammo"  
#define VERSION "1.0"  
#define AUTHOR "Admin"  
  
  
public plugin_init() {  
    register_plugin(PLUGIN, VERSION, AUTHOR)  
      
    register_clcmd("say /ammo","give_ammo")  
      
}  
public give_ammo(id){  
      
    set_pdata_int(get_pdata_cbase(id, 373), 51, 3)//В магазин  
}
```
  
  
**Описание:**  
В любой момент времени напишите в чат **/ammo** и у активного оружия станет 3 патрона.  
Приятно то, что можно выдать патронов больше, чем в магазине по умолчанию.
