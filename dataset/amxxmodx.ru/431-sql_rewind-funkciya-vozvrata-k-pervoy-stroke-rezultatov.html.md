# SQL_Rewind Функция возврата к первой строке результатов
[SQLx](http://amxxmodx.ru/sqlx/)
С помощью функции **SQL_Rewind** , можно заставить цикл вернуться к первой строке результатов запроса выполненного к базе данных.  
  
Инфо из **sql.inc:**  
```
/**  
 * Rewinds a result set to the first row.  
 */  
native SQL_Rewind(Handle:query);
```
  
  
**Синтаксис:**  

SQL_Rewind(Handle:query)
  

    * **Handle:query** - Идентификатор запроса  

  
  
**Тип функции:**  
Native  
  
**Пример:**  
```
/* Plugin generated by AMXX-Studio */  
  
#include <amxmodx>  
#include <amxmisc>  
#include <sqlx>  
  
#define PLUGIN "[http://amxxmodx.ru] SQL_Rewind"  
#define VERSION "1.0"  
#define AUTHOR "Admin"  
  
new Handle:SQL_Tuple  
new Handle:SQL_Connection   
  
public plugin_init() {  
      
    register_plugin(PLUGIN, VERSION, AUTHOR)  
    register_cvar("SQLx_host","127.0.0.1")  
    register_cvar("SQLx_db","amxxmodx")  
    register_cvar("SQLx_user","admin")  
    register_cvar("SQLx_password","pass")  
      
    register_concmd("select_sql","sqlx_select")  
}  
public plugin_cfg(){  
    new host[33],dbase[33],user[33],pass[33]  
    get_cvar_string("SQLx_host",host,30)  
    get_cvar_string("SQLx_db",dbase,30)  
    get_cvar_string("SQLx_user",user,30)  
    get_cvar_string("SQLx_password",pass,30)  
    SQL_Tuple = SQL_MakeDbTuple(host,user,pass,dbase) // Создание картежа данных для соединения с БД  
    new err, error[256]  
    SQL_Connection = SQL_Connect(SQL_Tuple, err, error, charsmax(error)) // Соединение с БД  
      
    if(SQL_Connection != Empty_Handle)  
    {  
        log_amx("[SQLx connect ok]") //Если соединение установлено   
        }else{  
        log_amx("[SQLX sql error] %s ",error) //Если нет и выводим причину(ошибку)  
        pause("a")  
    }  
      
}  
public sqlx_select(id){  
      
    //Подготовка Запроса  
    new Handle:query = SQL_PrepareQuery(SQL_Connection,"SELECT * FROM `dle_files`")  
    // Выполняем запрос к базе даанных  
    SQL_Execute (query)  
      
    new Rewind,i  
      
    while(SQL_MoreResults(query)){  
        i++  
          
        new id = SQL_ReadResult(query, 0)   
        new str[32]   
        SQL_ReadResult(query, 1, str, 31)  
        new name[32]  
        SQL_ReadResult(query, 2, name, 31)  
          
        server_print("SQL Select Result: %d %s %s",id,str,name)  
          
          
        if(i == 5 && Rewind == 0){//Какое то условие  
            Rewind =1  
            server_print("^nK Ha4aly^n")  
            SQL_Rewind(query)//Возвращаемся к первой строке результата  
        }  
          
        SQL_NextRow(query)  
          
          
    }  
}  
public plugin_end(){  
      
    SQL_FreeHandle(SQL_Connection)  
      
}
```
  
  
**Описание:**  
Для начала прочитайте инфу о [SQL_NextRow и SQL_ReadResult Часть 2. Получение множества результатов запроса](http://amxxmodx.ru/sqlx/192-sql_nextrow-i-sql_readresult-chast-2-poluchenie-mnozhestva-rezultatov-zaprosa.html)., так как основная часть примера от туда.  
Далее обратите внимание на эту конструкцию:  
```
        if(i == 5 && Rewind == 0){//Какое то условие  
            Rewind =1  
            server_print("^nK Ha4aly^n")  
            SQL_Rewind(query)//Возвращаемся к первой строке результата  
        }
```
  
В ней вымышленно условие ( что если дошли до пятого элемента результата, то возвращаться к первому.  
Мне кажется что когда вы дойдете до необходимости использования данной функции, у вас отпадет потребность в моей писанине.
