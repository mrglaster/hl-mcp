# cs_set_user_bpammo Функция устанавливает игроку патроны в запас
[CStrike](http://amxxmodx.ru/cstrike/)
Данная функция довольно таки часто используется во всяких vip и админ системах, там где нужно выдать определенное оружие и дать патронов в запас.  
  
Инфо из **cstrike.inc:**  
```
/* Restock/remove ammo in a user's backpack.  
 */  
native cs_set_user_bpammo(index, weapon, amount);
```
  
  
**Синтаксис:**  

cs_set_user_bpammo(index, weapon, amount)
  

    * **index** - Индекс игрока.
    * **weapon** - Оружие которому будут выдаваться патроны.
    * **amount** - Количество выдаваемых патронов.
  
  
**Тип функции:**  
Native  
  
**Пример:**  
```
/* Plugin generated by AMXX-Studio */  
  
#include <amxmodx>  
#include <amxmisc>  
#include <cstrike>  
  
#define PLUGIN "[cstrike.inc] cs_set_user_bpammo"  
#define VERSION "0.1"  
#define AUTHOR "Mon[str]"  
  
  
public plugin_init()   
{  
    register_plugin(PLUGIN, VERSION, AUTHOR);  
      
    register_clcmd("say /give_ammo", "give_ammo");  
}  
  
public give_ammo(id)  
{  
    if(!is_user_alive(id))  
        return 0;  
      
    new szArg[3];  
      
    read_argv(1, szArg, charsmax(szArg));  
      
    if(is_str_num(szArg))  
    {  
        new iWeapon = get_user_weapon(id);  
        new iAmmo = str_to_num(szArg);  
          
        cs_set_user_bpammo(id, iWeapon, iAmmo);  
    }  
      
    return 1;  
}
```
  
  
**Описание:**  
В данном примере мы зарегистрировали команду для выдачи патронов.  
Введя команду и через пробел число, в оружие которое вы держите в руках выдастся то количество патронов которое вы указали.  
  
Рассмотрим подробнее функцию give_ammo(id):  
В ней мы выходим из команды если игрок мертв так как у мертвого игрока нет оружия.  
  
Создаем массив из 3 ячеек для записи первого аргумента нашей команды, это и есть патроны.  
  
Записываем в массив аргумент и чуть позже проверяем если аргумент состоит только из чисел с помощью функции [is_str_num](http://amxxmodx.ru/engine/go.php?url=aHR0cDovL2FteHhtb2R4LnJ1L2NvcmUvc3RyaW5naW5jLzM2MS1pc19zdHJfbnVtLWZ1bmtjaXlhLWRseWEtcHJvdmVya2ktc29kZXJ6aGFuaXlhLXRvbGtvLWNoaXNlbC12LXN0cm9rZS5odG1s), так как патроны это число.  
  
В теле условия мы создаем 2 переменных iWeapon и iAmmo куда и записываем индекс оружия которое держит игрок c помощью функции [get_user_weapon](http://amxxmodx.ru/engine/go.php?url=aHR0cDovL2FteHhtb2R4LnJ1L2NvcmUvYW14bW9keGluYy8zNjItZ2V0X3VzZXJfd2VhcG9uLWZ1bmtjaXlhLXBvbHVjaGFldC1zaHYtb3J1emhpeWEtaWdyb2thLXYtcnVrYWguaHRtbA%3D%3D), а во вторую конвертированный аргумент в число то есть патроны, конвертируем с помощью функции [str_to_num](http://amxxmodx.ru/engine/go.php?url=aHR0cDovL2FteHhtb2R4LnJ1L2NvcmUvc3RyaW5naW5jLzI3My1zdHJfdG9fbnVtLWZ1bmtjaXlhLWtvbnZlcnRpcnVldC1zdHJva3Utdi1jaGlzbG8uaHRtbA%3D%3D) и в конце выдаем патроны в данном оружие в определенном количестве.
