# geoip_code2 Функция возвращает в двух символах обозначение страны игрока
[GeoIP](http://amxxmodx.ru/geoip/)
Не всегда удобно иметь дело с полным названием страны игрока, например если эти данные используются в статистике, на много удобнее использовать какую то аббревиатуру страны или двузначный общепринятый код. О нас разработчики позаботились заранее и дали нам инструменты которые с легкостью это выполнят без лишней для нас мороки.  
  
Инфо из **geoip.inc:**  
```
/**  
 * @deprecated  
 * Lookup the two character country code for a given IP address.  
 *  
 * @note This native will overflow the buffer by one cell on an unknown ip lookup!  
 * @note Use geoip_code2_ex instead!  
 *  
 * @param ip        The IP address to lookup.  
 * @param result    The result buffer.  
 */  
native geoip_code2(const ip[], ccode[3]);
```
  
  
**Синтаксис:**  

geoip_code2 ( ip[], ccode[3] )
  

    * **ip[]** - ip игрока  

    * **ccode[3]** - Массив для записи кода страны  

  
  
**Тип функции:**  
Native  
  
**Пример:**  
```
/* Plugin generated by AMXX-Studio */  
  
#include <amxmodx>  
#include <amxmisc>  
#include <geoip>  
  
#define PLUGIN "[geoip.inc] geoip_code2"  
#define VERSION "1.0"  
#define AUTHOR "Admin"  
  
public plugin_init() {  
  
    register_plugin(PLUGIN, VERSION, AUTHOR)  
  
    register_clcmd("say /get_country","country")  
    register_clcmd("say /gc","country")  
          
}  
public country(id){  
      
    new ip[18]  
    get_user_ip(id,ip,17,1)  
      
    new ccode[3]  
    geoip_code2(ip,ccode)  
    client_print(id,print_chat,"Code2: %s",ccode)  
  
      
}
```
  
  
**Описание:**  
Функции для работы требуется ip игрока, по этому сначала получаем ip игрока, используя **get_user_ip** , и полученные данные используем в исследуемой функции.  
Так же необходим массив **ccode** , куда запишем результат работы.  
разумеется для наглядности выводим в чат полученный результат.  
Так как я из России мне выдало Ru.  
  
Скачать базу данных:  

Внимание! У Вас нет прав для просмотра скрытого текста.
  
База данных очень часто обновляется, примерно раз в месяц, скачать свежую версию вы сможете на официальном сайте MaxMind.
