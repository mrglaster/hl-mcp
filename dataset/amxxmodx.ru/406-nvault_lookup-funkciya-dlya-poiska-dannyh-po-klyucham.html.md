# nvault_lookup Функция для поиска данных по ключам.
[The nVault Module](http://amxxmodx.ru/nvaultinc/)
В [**nvault**](http://amxxmodx.ru/nvaultinc/282-ispolzovanie-nvault-modulya.html) модуле есть 2 функции получения данных, в данной статье рассмотрим функцию **nvault_lookup** , которая ищет необходимые данные по ключу, а так же получает дату последнего изменения или "прикосновения" функцией **nvault_touch**.  
  
Инфо из **nvault.inc:**  
```
/* Looks up a vault value for full information  
 * Returns 0 if the entry is not found  
 */  
native nvault_lookup(vault, const key[], value[], maxlen, &timestamp);
```
  
  
**Синтаксис:**  

nvault_lookup ( vault, const key[], value[], maxlen, timestamp )
  

    * **vault** - Идентификатор открытого файла  

    * **const key[]** - Ключ для поиска  

    * **value[]** - Массив для записи результата  

    * **maxlen** - Максимальный размер массива  

    * **timestamp** - Дата последнего изменения данных или "касания" функции **nvault_touch**  

Функция вернет 0, если не получено ни каких данных  
  
**Тип функции:**  
Native   
  
**Пример:**  
```
/* Plugin generated by AMXX-Studio */  
  
#include <amxmodx>  
#include <nvault>  
  
#define PLUGIN "[nvault.inc] nvault_lookup"  
#define VERSION "1.0"  
#define AUTHOR "Admin"  
  
  
public plugin_init() {  
    register_plugin(PLUGIN, VERSION, AUTHOR)  
      
    new hvault = nvault_open("mega_file")  
    new s_ID[] = "zero"  
    nvault_set(hvault, s_ID, "hello amxxmodx.ru")  
  
    new text[64],timestamp  
      
    nvault_lookup(hvault,s_ID,text,charsmax(text),timestamp)  
      
    server_print("[nVault] %s,%d",text,timestamp)  
  
}
```
  
  
**Описание:**  
Функция получает все данные в виде строки, по этому если вы получаете число, вам придется воспользоваться функциями для соответствующих преобразований. Так же функция получит дату изменения данных ( именно тех что искали по ключу)   
[Веб конвертер Convert Unix timestamp to Readable Date/time](http://amxxmodx.ru/engine/go.php?url=aHR0cDovL3d3dy5vbmxpbmVjb252ZXJzaW9uLmNvbS91bml4X3RpbWUuaHRt)  

[nVault] hello amxxmodx.ru,1341237144
  
  
Вы можете воспользоваться так же функцией [**nvault_get**](http://amxxmodx.ru/nvaultinc/405-nvault_get-funkciya-poluchaet-znachenie-po-klyuchu-v-integer-float-ili-string.html), которая может получить данные сразу в требуемом виде, но она не получает дату последнего изменения, что на мой взгляд далеко не во всех случаях актуально.
