# Ham_killed отлов события убийства игрока (объекта)
[Ham Sandwich](http://amxxmodx.ru/hamsandwich/) [ham_const.inc](http://amxxmodx.ru/hamsandwich/ham_constinc/)
Раз вы здесь, значит вам необходимо отловить **событие убийства** , когда один игрок убил другого или какой то объект на карте, например курицу.  
Рассказывать про синтаксис и форму записи я не буду, вы это можете посмотреть в самой первой статье этого раздела, по этому перейдем сразу к делу, точнее к описанию параметров.  
  
Данная функция возвращает 3 параметра:  

(victim, attacker, corpse)
  

    * **victim** - Наша жертва, точнее id жертвы, так же и для убийцы  

    * **attacker** - Наш убийца  

    * **corpse** - Эффекты с трупом ( честно гвооря ни разу не использовал)  

  
Совсем немного :)  
  
**Пример:**  
```
/* Plugin generated by AMXX-Studio */  
  
#include <amxmodx>  
#include <amxmisc>  
#include <hamsandwich>  
#include <colorchat>  
  
#define PLUGIN "HamSandWich killed"  
#define VERSION "1.0"  
#define AUTHOR "Admin"  
  
  
public plugin_init ( )  
{  
    register_plugin ( PLUGIN, VERSION, AUTHOR )  
    //Регистрируем событие убийства  
    RegisterHam(Ham_Killed,"player","ham_player_kill")  
      
}  
//Функция которая вызывается при событии "Убийство объекта)   
public ham_player_kill(victim, attacker, corpse){  
      
    //Массивы для имен жертвы и убийцы  
    new VictimName[32],AttackerName[32]  
    //получаем имя жертвы  
    get_user_name(victim,VictimName,31)  
    //имя убийцы  
    get_user_name(attacker,AttackerName,31)  
      
    //С помощью инклуда колорчат выводим цветное сообщене кто кого убил  
    //Если у вас нет этог оинклуда удалите строку 6 и 32  
    ColorChat(0,RED,"%s ^1killed ^3%s",AttackerName,VictimName)  
      
    //Обычный вывод в чат  
    client_print(id,print_chat,"%s killed %s",AttackerName,VictimName)  
      
}
```
  
  
**Описание:**  
В коде плагина уже добавлены все основные комментарии, но все же я пару слов скажу:  
Первое что мы сделали это подключили модуль [**HamSandWich**](http://amxxmodx.ru/hamsandwich/43-the-ham-sandwich-module.html),  
Затем зарегистрировали необходимое нам событие - Функция **Ham_Killed** назначили функцию, которая при этом событии будет выполняться.  
В нашей функции **ham_player_kill** , как написано в комментариях, мы получаем ники жертвы и убийцы и сразу же записываем их в массивы, заранее объявленные.  
  
И в самом конце выводим с помощью Колорчата цветное сообщение в чат, о том,. кто кого убил.  
  
Практическое использование, или мини задание для самоконтроля.  
Создайте Глобальный массив и при каждом убийстве, игрока суммируйте фраги со свеженьким фрагом. заодно выводя сколько он всего убил.  
Проконтролировать правильность вы сможете сравнивая результат со стандартной таблицей очков игроков ( клавиша TAB по умолчанию)
