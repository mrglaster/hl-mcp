# nvault_close Функция закрывает файл
[The nVault Module](http://amxxmodx.ru/nvaultinc/)
Функцию закрытия файла рекомендуется использовать в конце плагина, в функции [**plugin_end**](http://amxxmodx.ru/core/amxmodxinc/13-plugin_end.html)  
  
Инфо из **nvault.ru:**  
```
/* Closes a vault */  
native nvault_close(vault);
```
  
  
**Синтаксис:**  

nvault_close(vault)
  

    * **vault** - Идентификатор открытого файла  

  
  
**Тип функции:**  
Native  
  
**Пример:**  
```
/* Plugin generated by AMXX-Studio */  
  
#include <amxmodx>  
#include <nvault>  
  
#define PLUGIN "[nvault.inc] nvault_close"  
#define VERSION "1.0"  
#define AUTHOR "Admin"  
  
  
public plugin_init() {  
    register_plugin(PLUGIN, VERSION, AUTHOR)  
      
    new hvault = nvault_open("mega_file")  
    new s_ID[] = "zero"  
      
    nvault_set(hvault, s_ID, "hello http://amxxmodx.ru")  
      
    new text[64],timestamp  
      
      
    nvault_lookup(hvault,s_ID,text,charsmax(text),timestamp)  
    server_print("[nVault] %s,%d",text,timestamp)  
      
  
    nvault_close(hvault)  
      
    nvault_lookup(hvault,s_ID,text,charsmax(text),timestamp)  
    server_print("[nVault] %s,%d",text,timestamp)  
      
}
```
  
  
**Описание:**  
В примре для наглядности после закрытия файла, выполняется еще одна попытка получить данные, но это вызывает ошибку, так как файл уже закрыт.  

[nVault] hello http://amxxmodx.ru,1341746869  
L 07/08/2012 - 15:27:49: [nVault] Invalid vault id: 0  
  
L 07/08/2012 - 15:27:49: [AMXX] Displaying debug trace (plugin "AMXXMODX.amxx")  
L 07/08/2012 - 15:27:49: [AMXX] Run time error 10: native error (native "nvault_lookup")  
L 07/08/2012 - 15:27:49: [AMXX] [0] AMXXMODX.sma::plugin_init (line 28)
