# SQL_GetAffinity Функция возвращает с каким драйвером работает данный плагин
[SQLx](http://amxxmodx.ru/sqlx/)
Когда пишутся качественные плагины с поддержкой сразу не скольких систем хранения данных, то определение с какой системой работает плагин в каждой конкретной ситуации становится делом важным и помогает в этом функция **SQL_GetAffinity**.  
  
Инфо из **sqlx.inc:**  
```
/**  
 * Returns which driver this plugin is currently bound to.  
 */  
native SQL_GetAffinity(driver[], maxlen);
```
  
  
**Синтаксис:**  

SQL_GetAffinity(driver[], maxlen)
  

    * **driver[]** - Массив для имени драйвера  

    * **maxlen** - Максимальная длина массива  

  
  
**Тип функции:**  
Native  
  
**Пример:**  
```
/* Plugin generated by AMXX-Studio */  
  
#include <amxmodx>  
#include <amxmisc>  
#include <sqlx>  
  
#define PLUGIN "[http://amxxmodx.ru] SQL_GetAffinity"  
#define VERSION "1.0"  
#define AUTHOR "Admin"  
  
new Handle:SQL_Tuple  
  
public plugin_init() {  
      
    register_plugin(PLUGIN, VERSION, AUTHOR)  
    register_cvar("SQLx_host","127.0.0.1")  
    register_cvar("SQLx_db","amxxmodx")  
    register_cvar("SQLx_user","admin")  
    register_cvar("SQLx_password","pass")  
          
    register_concmd("GetAffinity","GetAffinity")  
}  
public plugin_cfg(){  
    new host[33],dbase[33],user[33],pass[33]  
    get_cvar_string("SQLx_host",host,30)  
    get_cvar_string("SQLx_db",dbase,30)  
    get_cvar_string("SQLx_user",user,30)  
    get_cvar_string("SQLx_password",pass,30)  
    SQL_Tuple = SQL_MakeDbTuple(host,user,pass,dbase)   
      
}  
public GetAffinity(){  
    new driver[12]  
    SQL_GetAffinity(driver,charsmax(driver))  
    server_print("driver[%s]",driver)  
      
      
}
```
  
  
**Описание:**  
Результатом работы будет следующие:  

driver[mysql]
  

